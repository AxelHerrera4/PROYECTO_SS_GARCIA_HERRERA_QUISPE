.chat-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  background: linear-gradient(145deg, #0f0f23, #1a1a2e);
  font-family: "Inter", sans-serif;
  overflow: hidden;
  color: white;
}

.chat-header {
  background: #16181F;
  padding: 1.2rem 2rem;
  display: flex;
  justify-content: space-between;
  background: linear-gradient(145deg, var(--bg-main), var(--bg-card));
  z-index: 100;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  color: var(--text-main);
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
  background: var(--bg-card);

.chat-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  border-bottom: 1px solid rgba(148,163,184,0.06);
  height: 2px;
  background: linear-gradient(90deg, #6366f1, #8b5cf6, #6366f1);
}

.chat-header h2 {
  margin: 0;
  font-size: 1.3rem;
  font-weight: 700;
  color: white;
}

.chat-header p {
  background: linear-gradient(90deg, var(--primary), var(--primary-dark), var(--primary));
  font-size: 0.85rem;
  opacity: 0.8;
  color: #94a3b8;
/* Rewritten to use theme variables and ensure high contrast */
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  background: linear-gradient(145deg, var(--bg-main), var(--bg-card));
  font-family: "Inter", sans-serif;
  overflow: hidden;
  color: var(--text-main);
}

.chat-header {
  background: var(--bg-card);
  padding: 1.2rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 100;
  box-shadow: var(--shadow-card);
  border-bottom: 1px solid rgba(148,163,184,0.06);
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
}

.chat-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), var(--primary-dark), var(--primary));
}

.chat-header h2 { color: var(--text-main); margin:0; font-size:1.3rem; font-weight:700 }
.chat-header p { color: var(--text-muted); margin:0; font-size:0.85rem }

.chat-actions { display:flex; gap:0.75rem; align-items:center }

.btn-outline { background:transparent; color:var(--text-main); border:2px solid var(--primary); border-radius:10px; padding:0.6rem 1.2rem; cursor:pointer; transition:all .3s; font-size:0.9rem; font-weight:600 }
.btn-outline:hover { background:var(--primary); color:var(--bg-main); transform:translateY(-2px); box-shadow:0 4px 12px rgba(69,196,176,0.14) }

.btn-danger { background:linear-gradient(145deg,var(--danger),#dc2626); color:var(--text-main); border:none; border-radius:10px; padding:0.6rem 1.2rem; cursor:pointer; font-weight:600 }
.btn-danger:hover { transform:translateY(-2px) }

.chat-messages { flex:1; padding:1.5rem 2rem; overflow-y:auto; display:flex; flex-direction:column; gap:1rem; background:var(--bg-main); scroll-behavior:smooth }

.message { display:flex; width:100%; margin-bottom:0.25rem }
.message.sent { justify-content:flex-end }
.message.received { justify-content:flex-start }

.message-content { padding:0.8rem 1.2rem; border-radius:16px; max-width:65%; min-width:100px; box-shadow:0 4px 20px rgba(0,0,0,0.3); position:relative; word-wrap:break-word; overflow-wrap:break-word; transition:all .3s }
.message-content:hover { transform:translateY(-2px); box-shadow:0 6px 25px rgba(0,0,0,0.4) }
.message.sent .message-content { background:linear-gradient(145deg,var(--primary),var(--primary-dark)); color:var(--text-main) }
.message.received .message-content { background:var(--bg-card); color:var(--text-main); border:1px solid rgba(148,163,184,0.06) }

.message-header { display:flex; justify-content:space-between; align-items:center; font-size:0.85rem; margin-bottom:0.4rem }
.message.sent .message-header { color:var(--text-main); font-weight:600 }
.message.received .message-header { color:var(--primary); font-weight:600 }

.message-body { margin-top:0; line-height:1.4; font-size:0.95rem; font-weight:500; color:var(--text-main) }

.chat-footer { background:var(--bg-card); padding:1.2rem 1.5rem; display:flex; gap:0.75rem; align-items:center; box-shadow:var(--shadow-card); border-top:1px solid rgba(148,163,184,0.06) }

.message-input { flex:1; padding:0.8rem 1.2rem; border-radius:12px; border:1px solid var(--border-soft); background:var(--bg-main-soft); color:var(--text-main) }
.message-input::placeholder { color:var(--text-muted) }
.message-input:focus { border-color:var(--primary); box-shadow:0 0 0 2px rgba(69,196,176,0.12) }

.send-button { background:linear-gradient(145deg,var(--primary),var(--primary-dark)); color:var(--text-main); border:none; border-radius:12px; padding:0.8rem 1.5rem; font-weight:600 }
.send-button:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 6px 20px rgba(69,196,176,0.25) }

.participants-panel { background:var(--bg-card); padding:1.5rem 2rem; border-bottom:1px solid rgba(148,163,184,0.06); box-shadow:var(--shadow-card); max-height:220px; overflow-y:auto }
.participants-panel h3 { color:var(--text-main); margin:0 0 1rem 0 }
.participants-panel li { background:var(--bg-main-soft); padding:0.6rem 1.2rem; border-radius:12px; color:var(--text-main); border:1px solid rgba(148,163,184,0.04) }

.system-message { align-self:center; background:rgba(69,196,176,0.06); color:var(--primary); padding:0.6rem 1.5rem; border-radius:20px }

.chat-image { max-width:250px; border-radius:12px; border:2px solid rgba(69,196,176,0.12) }
.overlay-btn { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.06); color:var(--text-main); padding:0.5rem; border-radius:8px }

.file-message.pdf-message, .file-message.other-file { background:rgba(69,196,176,0.04); border:1px solid rgba(69,196,176,0.08); padding:12px; border-radius:12px }
.file-name { color:var(--text-main) }
.file-action { color:var(--primary) }

.file-upload { background:var(--bg-main); border:1px solid var(--border-soft); color:var(--primary); width:44px; height:44px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center }
.file-upload:hover { background:var(--primary); color:var(--bg-main) }

.modal-content { background:var(--bg-card); color:var(--text-main); border:1px solid rgba(148,163,184,0.04) }
.modal-content h3 { color:var(--text-main) }
.modal-content p { color:var(--text-muted) }

.context-menu { background:var(--bg-card); border:1px solid rgba(148,163,184,0.04) }
.context-menu-item { color:var(--text-main) }

  cursor: pointer;
  font-size: 1rem;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.btn-save:hover {
  background: linear-gradient(145deg, #059669, #047857);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.btn-cancel-edit {
  background: linear-gradient(145deg, #ef4444, #dc2626);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.4rem 0.8rem;
  cursor: pointer;
  font-size: 1rem;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
}

.btn-cancel-edit:hover {
  background: linear-gradient(145deg, #dc2626, #b91c1c);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}

/* Overlay de expulsi√≥n */
.kicked-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  animation: fadeIn 0.3s ease;
}

.kicked-message {
  background: #16181F;
  border-radius: 16px;
  padding: 3rem;
  text-align: center;
  max-width: 400px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  animation: slideUp 0.3s ease;
  border: 1px solid #2d2d3a;
}

.kicked-message h2 {
  margin: 0 0 1rem 0;
  color: #ef4444;
  font-size: 1.8rem;
  font-weight: 700;
}

.kicked-message p {
  margin: 0.5rem 0;
  color: #94a3b8;
  font-size: 1rem;
}

.kicked-message p:last-child {
  margin-top: 1.5rem;
  color: #6b7280;
  font-size: 0.9rem;
  font-style: italic;
}

/* Scrollbar personalizado */
.chat-messages::-webkit-scrollbar {
  width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
  background: #1a1a2e;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: #6366f1;
  border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: #4f46e5;
}

.participants-panel::-webkit-scrollbar {
  width: 4px;
}

.participants-panel::-webkit-scrollbar-track {
  background: #16181F;
}

.participants-panel::-webkit-scrollbar-thumb {
  background: #6366f1;
  border-radius: 2px;
}